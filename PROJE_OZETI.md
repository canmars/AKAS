# AKAS - Akademik Karar Analiz Sistemi
## Proje Ã–zeti DokÃ¼mantasyonu

### 1. ðŸ“ Proje Ã–zeti
**AKAS (Akademik Karar Analiz Sistemi)**, Dokuz EylÃ¼l Ãœniversitesi YÃ¶netim BiliÅŸim Sistemleri (YBS) BÃ¶lÃ¼mÃ¼ iÃ§in Ã¶zel olarak geliÅŸtirilmiÅŸ bir Karar Destek Sistemidir (KDS). Ã–zellikle lisansÃ¼stÃ¼ eÄŸitim sÃ¼reÃ§lerini (Tezli/Tezsiz YÃ¼ksek Lisans ve Doktora) kapsayan bu sistem, operasyonel veri takibinden ziyade **stratejik karar alma sÃ¼reÃ§lerine** odaklanmaktadÄ±r.

Sistem; Ã¶ÄŸrencilerin akademik ilerleyiÅŸini, danÄ±ÅŸman performanslarÄ±nÄ±, ders baÅŸarÄ±larÄ±nÄ± ve risk faktÃ¶rlerini analiz ederek BÃ¶lÃ¼m BaÅŸkanÄ±'nÄ±n veri odaklÄ± kararlar almasÄ±nÄ± saÄŸlayan interaktif bir dashboard sunar.

### 2. ðŸŽ¯ AmaÃ§
Projenin temel amacÄ±; bÃ¶lÃ¼mdeki akademik sÃ¼reÃ§lerin verimliliÄŸini artÄ±rmak ve olasÄ± aksaklÄ±klarÄ± (Ã¶ÄŸrenci baÅŸarÄ±sÄ±zlÄ±ÄŸÄ±, atÄ±lma, danÄ±ÅŸman yÃ¼k dengesizliÄŸi vb.) Ã¶nceden tespit etmektir. Geleneksel Ã–ÄŸrenci Ä°ÅŸleri OtomasyonlarÄ±ndan farklÄ± olarak, AKAS **"Ne oldu?"** sorusundan Ã§ok **"Neden oldu?"** ve **"Ne olacak?"** sorularÄ±na cevap vermeyi hedefler.

### 3. ðŸš€ Hedefler ve Karar AlanlarÄ±
Sistem, BÃ¶lÃ¼m BaÅŸkanÄ±'nÄ±n aÅŸaÄŸÄ±daki 6 temel alanda karar vermesini kolaylaÅŸtÄ±rmayÄ± hedefler:

1.  **DanÄ±ÅŸman Atama ve YÃ¼k YÃ¶netimi**: Yeni Ã¶ÄŸrencilere en uygun danÄ±ÅŸmanÄ±n atanmasÄ± ve akademik personel arasÄ±ndaki yÃ¼k dengesinin saÄŸlanmasÄ±.
2.  **Risk AltÄ±ndaki Ã–ÄŸrencilerin Tespiti**: BaÅŸarÄ±sÄ±zlÄ±k veya atÄ±lma riski taÅŸÄ±yan Ã¶ÄŸrencilerin erken tespiti ve mÃ¼dahale stratejilerinin belirlenmesi.
3.  **Program Kontenjan ve Kaynak PlanlamasÄ±**: Hangi programa ne kadar kontenjan ayrÄ±lacaÄŸÄ± ve akademik kaynaklarÄ±n nasÄ±l daÄŸÄ±tÄ±lacaÄŸÄ±.
4.  **AÅŸama Takibi ve SÃ¼reÃ§ YÃ¶netimi**: Ã–ÄŸrencilerin tez, yeterlik, dÃ¶nem projesi gibi kritik aÅŸamalardaki gecikmelerinin analizi.
5.  **Performans Analizi**: Ã–ÄŸrenci ve danÄ±ÅŸman bazlÄ± baÅŸarÄ± metriklerinin takibi ve mezuniyet tahminleri.
6.  **EÄŸitim Kalitesi ve Ders Analizi**: BaÅŸarÄ±sÄ±zlÄ±k oranlarÄ±nÄ±n yÃ¼ksek olduÄŸu derslerin tespiti ve not yÄ±ÄŸÄ±lmalarÄ±nÄ±n analizi.


### 4. ðŸ“Š Sistem Analizi

#### 4.1 Durum TanÄ±mÄ±


##### 4.1.1 Tespit (Belirti Analizi, Ne?):
- Ne yanlÄ±ÅŸ gidiyor?


##### 4.1.2 TeÅŸhis (Neden Analizi, KÃ¶k Neden):
- Bu belirti neden ortaya Ã§Ä±kÄ±yor?



##### 4.1.3 Problem TanÄ±mlama Teknikleri 
- DoÄŸru bir teÅŸhis koyabilmek iÃ§in analitik araÃ§lar.

- Teknik 1: Beyin FÄ±rtÄ±nasÄ± (Brainstorming)
- Teknik 2: Pareto Analizi (80/20 KuralÄ±)


##### 4.2 Sistemin TanÄ±mÄ± (Mevcut Sistemin SÄ±nÄ±rlarÄ±)



##### 4.3 Sistem Ã‡evresinin TanÄ±mÄ± (Mevcut Sistemin DÄ±ÅŸ UnsurlarÄ±)
##### 4.4 Sistemin Hedefleri (Yeni Sistemin Hedefleri)
##### 4.5 Bilgi ve Veri Analizi



### 5. Sistem TasarÄ±mÄ± (Yeni Sistem NasÄ±l Ã‡alÄ±ÅŸacak?)

##### 5.1 Ã–ngÃ¶rÃ¼ ve Kestirim
##### 5.2 DavranÄ±ÅŸ Modellemesi
##### 5.3 Optimizasyon
##### 5.4 GÃ¼venilirlik ve GeliÅŸtirme Sistemlerinin KurulmasÄ±

### 6. Sistem HazÄ±rlama (Sistemi Hayata GeÃ§irmek)

##### 6.1 Belgeleme (DokÃ¼mantasyon)
##### 6.2 Kurulum (Programlama ve Test)
##### 6.3 Personel EÄŸitimi

### 7. Sistem Ä°ÅŸletimi (Sistemi YaÅŸatmak ve GeliÅŸtirmek)

##### 7.1 BaÅŸlangÄ±Ã§ (Pilot Deneme)
##### 7.2 DeÄŸerlendirme (Feedback/Geri Bildirim)
##### 7.3 Ä°yileÅŸtirilmiÅŸ Ä°ÅŸletim
##### 7.4 Sistemi devreye alma





#### 4.1. ðŸ“Š Programlar

Dokuz EylÃ¼l Ãœniversitesi YÃ¶netim BiliÅŸim Sistemleri (YBS) BÃ¶lÃ¼mÃ¼ bÃ¼nyesindeki lisansÃ¼stÃ¼ programlar


BÃ¶lÃ¼mÃ¼mÃ¼zde 4 temel lisansÃ¼stÃ¼ program yÃ¼rÃ¼tÃ¼lmektedir:

| Program Kodu | Program AdÄ± | TÃ¼r | EÄŸitim Dili | Ã–ÄŸretim Åžekli |
|--------------|-------------|-----|-------------|---------------|
| **DEU_YBS_DOKTORA** | DEÃœ YBS Doktora ProgramÄ± | Doktora | TÃ¼rkÃ§e | Normal |
| **DEU_YBS_TEZLI_YL** | DEÃœ YBS Tezli YÃ¼ksek Lisans | Tezli YÃ¼ksek Lisans | TÃ¼rkÃ§e | Normal |
| **DEU_YBS_TEZSIZ_IO** | DEÃœ YBS Tezsiz YÃ¼ksek Lisans (Ä°Ã–) | Tezsiz YÃ¼ksek Lisans (Ä°Ã–) | TÃ¼rkÃ§e | Ä°kinci Ã–ÄŸretim |
| **DEU_YBS_TEZSIZ_UZ** | DEÃœ YBS Tezsiz YÃ¼ksek Lisans (Uzaktan) | Tezsiz YÃ¼ksek Lisans (Uzaktan) | TÃ¼rkÃ§e | Uzaktan |





---

### 4. ðŸ—ï¸ Proje Mimarisi ve KlasÃ¶r YapÄ±sÄ± (MVC)

Proje, **Model-View-Controller (MVC)** tasarÄ±m desenine sadÄ±k kalÄ±narak yapÄ±landÄ±rÄ±lmÄ±ÅŸtÄ±r. Bu yapÄ±, hem Backend hem de Frontend tarafÄ±nda kodun sÃ¼rdÃ¼rÃ¼lebilirliÄŸini, okunabilirliÄŸini ve geliÅŸtirilebilirliÄŸini artÄ±rmayÄ± hedefler.

#### **Mimari YaklaÅŸÄ±m**
*   **Model**: VeritabanÄ± ÅŸemasÄ± ve veri eriÅŸim katmanÄ± (Supabase/PostgreSQL).
*   **View**: KullanÄ±cÄ±nÄ±n etkileÅŸime girdiÄŸi arayÃ¼z (React Frontend).
*   **Controller**: Ä°ÅŸ mantÄ±ÄŸÄ±nÄ±n (Business Logic) iÅŸlendiÄŸi ve Model-View arasÄ±ndaki iletiÅŸimi saÄŸlayan katman (Node.js Backend).

#### **Teknoloji YÄ±ÄŸÄ±nÄ± (Tech Stack)**
*   **Frontend**: React.js, Vite, Tailwind CSS, Chart.js
*   **Backend**: Node.js, Express.js
*   **VeritabanÄ±**: PostgreSQL (Supabase). Extensions: pg_cron, pg_trgm, vector

#### **DetaylÄ± KlasÃ¶r YapÄ±sÄ±**
AÅŸaÄŸÄ±da, projenin hedeflediÄŸi **tam klasÃ¶r yapÄ±sÄ±** yer almaktadÄ±r. HenÃ¼z boÅŸ olabilir yahut isimlerin ve dosyalarÄ±n iÃ§eriÄŸi deÄŸiÅŸim gÃ¶sterebilir ancak bu mimari yapÄ±sÄ± bÃ¼tÃ¼nlÃ¼k oluÅŸturup proje anlaÅŸÄ±lmasÄ±nÄ± kolaylaÅŸtÄ±rÄ±lmasÄ± iÃ§in oluÅŸturulmuÅŸtur.

```
AKAS/
â”œâ”€â”€ backend/                        # ðŸ§  BACKEND (Node.js/Express)
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ config/                 # KonfigÃ¼rasyon dosyalarÄ± (db, cors vb.)
â”‚   â”‚   â”œâ”€â”€ controllers/            # Ä°ÅŸ mantÄ±ÄŸÄ± (Business Logic)
â”‚   â”‚   â”‚   â”œâ”€â”€ authController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboardController.js
â”‚   â”‚   â”‚   â””â”€â”€ studentController.js
â”‚   â”‚   â”œâ”€â”€ middlewares/            # Ara katman yazÄ±lÄ±mlarÄ± (Auth, Error Handling)
â”‚   â”‚   â”‚   â”œâ”€â”€ authMiddleware.js
â”‚   â”‚   â”‚   â””â”€â”€ errorMiddleware.js
â”‚   â”‚   â”œâ”€â”€ models/                 # Veri modelleri ve DB sorgularÄ± (Supabase)
â”‚   â”‚   â”‚   â”œâ”€â”€ studentModel.js
â”‚   â”‚   â”‚   â””â”€â”€ userModel.js
â”‚   â”‚   â”œâ”€â”€ routers/                # API RotalarÄ± (URL YÃ¶nlendirmeleri)
â”‚   â”‚   â”‚   â”œâ”€â”€ authRouters.js
â”‚   â”‚   â”‚   â””â”€â”€ dashboardRouters.js
â”‚   â”‚   â”œâ”€â”€ utils/                  # YardÄ±mcÄ± fonksiyonlar
â”‚   â”‚   â”‚   â”œâ”€â”€ helpers.js
â”‚   â”‚   â”‚   â””â”€â”€ validators.js
â”‚   â”‚   â””â”€â”€ server.js               # Entry Point (Uygulama GiriÅŸ NoktasÄ±)
â”‚   â”œâ”€â”€ scripts/                    # Veri tohumlama/bakÄ±m scriptleri
â”‚   â”œâ”€â”€ .env                        # Hassas ortam deÄŸiÅŸkenleri
â”‚   â””â”€â”€ package.json                # Backend baÄŸÄ±mlÄ±lÄ±klarÄ±
â”‚
â”œâ”€â”€ frontend/                       # ðŸŽ¨ FRONTEND (React)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ assets/                 # Statik dosyalar (GÃ¶rseller, ikonlar)
â”‚   â”‚   â”œâ”€â”€ components/             # Tekrar kullanÄ±labilir UI bileÅŸenleri
â”‚   â”‚   â”‚   â”œâ”€â”€ common/             # Genel bileÅŸenler (Button, Input)
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/          # Dashboard'a Ã¶zel bileÅŸenler
â”‚   â”‚   â”‚   â””â”€â”€ layout/             # Header, Sidebar vb.
â”‚   â”‚   â”œâ”€â”€ contexts/               # React Context (Global State)
â”‚   â”‚   â”œâ”€â”€ hooks/                  # Custom React Hooks
â”‚   â”‚   â”œâ”€â”€ layouts/                # Sayfa ÅŸablonlarÄ± (MainLayout, AuthLayout)
â”‚   â”‚   â”œâ”€â”€ pages/                  # Sayfa GÃ¶rÃ¼nÃ¼mleri (Views)
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx
â”‚   â”‚   â”‚   â””â”€â”€ StageTracking.jsx
â”‚   â”‚   â”œâ”€â”€ services/               # API Servisleri (Backend ile iletiÅŸim)
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js              # Axios instance
â”‚   â”‚   â”‚   â””â”€â”€ authService.js
â”‚   â”‚   â”œâ”€â”€ styles/                 # Global stiller ve Tailwind ayarlarÄ±
â”‚   â”‚   â”œâ”€â”€ utils/                  # Frontend yardÄ±mcÄ± fonksiyonlarÄ±
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.js
â”‚   â”‚   â”‚   â””â”€â”€ formatters.js
â”‚   â”‚   â”œâ”€â”€ App.jsx                 # Ana React BileÅŸeni ve Router TanÄ±mlarÄ±
â”‚   â”‚   â””â”€â”€ main.jsx                # React Entry Point
â”‚   â”œâ”€â”€ index.html                  # Ana HTML DosyasÄ±
â”‚   â”œâ”€â”€ vite.config.js              # Vite KonfigÃ¼rasyonu
â”‚   â”œâ”€â”€ tailwind.config.js          # Tailwind KonfigÃ¼rasyonu
â”‚   â””â”€â”€ package.json                # Frontend baÄŸÄ±mlÄ±lÄ±klarÄ±
â”‚
â””â”€â”€ package.json                    # Root orkestrasyon dosyasÄ±
```

---

### 5. ðŸ—„ï¸ VeritabanÄ±


#### 5.1. ðŸ—„ï¸ VeritabanÄ± ÅžemasÄ±

AÅŸaÄŸÄ±da projenin gÃ¼ncel veritabanÄ± ÅŸemasÄ± (Entity-Relationship yapÄ±sÄ±) yer almaktadÄ±r.

```sql
-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.acilan_dersler (
  acilan_ders_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ders_id uuid NOT NULL,
  akademik_donem_id uuid,
  ogretim_uyesi_id uuid,
  kontenjan integer DEFAULT 50,
  derslik_bilgisi text,
  ders_programi_saati text,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT acilan_dersler_pkey PRIMARY KEY (acilan_ders_id),
  CONSTRAINT acilan_dersler_ders_id_fkey FOREIGN KEY (ders_id) REFERENCES public.dersler(ders_id),
  CONSTRAINT acilan_dersler_akademik_donem_id_fkey FOREIGN KEY (akademik_donem_id) REFERENCES public.akademik_takvim(takvim_id),
  CONSTRAINT acilan_dersler_ogretim_uyesi_id_fkey FOREIGN KEY (ogretim_uyesi_id) REFERENCES public.akademik_personel(personel_id)
);
CREATE TABLE public.adminler (
  admin_id uuid NOT NULL DEFAULT gen_random_uuid(),
  email text NOT NULL UNIQUE,
  ad text NOT NULL,
  soyad text NOT NULL,
  telefon text,
  aktif_mi boolean DEFAULT true,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  user_id uuid,
  avatar_url text,
  deleted_at timestamp with time zone,
  CONSTRAINT adminler_pkey PRIMARY KEY (admin_id),
  CONSTRAINT adminler_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.akademik_gorevler (
  gorev_id uuid NOT NULL DEFAULT gen_random_uuid(),
  atanan_ogrenci_id uuid NOT NULL,
  atayan_personel_id uuid,
  tez_id uuid,
  baslik text NOT NULL,
  aciklama text,
  son_tarih timestamp with time zone,
  durum text DEFAULT 'Bekliyor'::text CHECK (durum = ANY (ARRAY['Bekliyor'::text, 'Yapiliyor'::text, 'Tamamlandi'::text, 'Gecikti'::text, 'Iptal'::text])),
  oncelik text DEFAULT 'Orta'::text CHECK (oncelik = ANY (ARRAY['Dusuk'::text, 'Orta'::text, 'Yuksek'::text])),
  tamamlanma_tarihi timestamp with time zone,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT akademik_gorevler_pkey PRIMARY KEY (gorev_id),
  CONSTRAINT akademik_gorevler_atanan_ogrenci_id_fkey FOREIGN KEY (atanan_ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT akademik_gorevler_atayan_personel_id_fkey FOREIGN KEY (atayan_personel_id) REFERENCES public.akademik_personel(personel_id),
  CONSTRAINT akademik_gorevler_tez_id_fkey FOREIGN KEY (tez_id) REFERENCES public.tezler(tez_id)
);
CREATE TABLE public.akademik_personel (
  personel_id uuid NOT NULL DEFAULT gen_random_uuid(),
  anabilim_dali_id uuid,
  unvan text NOT NULL,
  ad text NOT NULL,
  soyad text NOT NULL,
  email text NOT NULL,
  telefon text,
  maksimum_kapasite integer NOT NULL DEFAULT 10,
  sert_limit integer,
  yumusak_limit integer,
  aktif_mi boolean DEFAULT true,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  rol text CHECK (rol = ANY (ARRAY['Danisman'::text, 'Bolum_Baskani'::text])),
  anabilim_dali_baskani_mi boolean DEFAULT false,
  user_id uuid,
  dahili_no text,
  avatar_url text,
  mevcut_danismanlik_sayisi integer DEFAULT 0,
  aktif_danisman_mi boolean DEFAULT true,
  bolum_baskani_mi boolean DEFAULT false,
  deleted_at timestamp with time zone,
  CONSTRAINT akademik_personel_pkey PRIMARY KEY (personel_id),
  CONSTRAINT fk_akademik_personel_anabilim_dali FOREIGN KEY (anabilim_dali_id) REFERENCES public.anabilim_dallari(anabilim_dali_id),
  CONSTRAINT akademik_personel_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.akademik_personel_uzmanlik (
  personel_uzmanlik_id uuid NOT NULL DEFAULT gen_random_uuid(),
  personel_id uuid NOT NULL,
  uzmanlik_alani text NOT NULL,
  ana_uzmanlik_mi boolean DEFAULT false,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT akademik_personel_uzmanlik_pkey PRIMARY KEY (personel_uzmanlik_id),
  CONSTRAINT akademik_personel_uzmanlik_personel_id_fkey FOREIGN KEY (personel_id) REFERENCES public.akademik_personel(personel_id)
);
CREATE TABLE public.akademik_takvim (
  takvim_id uuid NOT NULL DEFAULT gen_random_uuid(),
  akademik_yil integer NOT NULL,
  donem text NOT NULL,
  yariyil_no integer NOT NULL,
  baslangic_tarihi date NOT NULL,
  bitis_tarihi date NOT NULL,
  kayit_baslangic_tarihi date,
  kayit_bitis_tarihi date,
  ders_baslangic_tarihi date,
  ders_bitis_tarihi date,
  sinav_baslangic_tarihi date,
  sinav_bitis_tarihi date,
  aktif_mi boolean DEFAULT true,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT akademik_takvim_pkey PRIMARY KEY (takvim_id)
);
CREATE TABLE public.anabilim_dallari (
  anabilim_dali_id uuid NOT NULL DEFAULT gen_random_uuid(),
  anabilim_dali_adi text NOT NULL,
  anabilim_dali_kodu text NOT NULL,
  aktif_mi boolean DEFAULT true,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT anabilim_dallari_pkey PRIMARY KEY (anabilim_dali_id)
);
CREATE TABLE public.asama_tanimlari (
  asama_tanimi_id uuid NOT NULL DEFAULT gen_random_uuid(),
  program_turu_id uuid NOT NULL,
  asama_kodu text NOT NULL,
  asama_adi text NOT NULL,
  sira_no integer NOT NULL,
  azami_sure_yariyil integer,
  azami_sure_yil integer,
  gecis_kosullari jsonb,
  kontrol_verileri ARRAY,
  aciklama text,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT asama_tanimlari_pkey PRIMARY KEY (asama_tanimi_id),
  CONSTRAINT asama_tanimlari_program_turu_id_fkey FOREIGN KEY (program_turu_id) REFERENCES public.program_turleri(program_turu_id)
);
CREATE TABLE public.bildirimler (
  bildirim_id uuid NOT NULL DEFAULT gen_random_uuid(),
  user_id uuid NOT NULL,
  baslik text NOT NULL,
  mesaj text NOT NULL,
  tip text CHECK (tip = ANY (ARRAY['Bilgi'::text, 'Uyari'::text, 'Tehlike'::text, 'Gorev'::text])),
  okundu_mu boolean DEFAULT false,
  link text,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT bildirimler_pkey PRIMARY KEY (bildirim_id),
  CONSTRAINT bildirimler_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.danisman_gecmisi (
  gecmis_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  danisman_id uuid NOT NULL,
  atama_tarihi date NOT NULL,
  ayrilma_tarihi date,
  aktif_mi boolean DEFAULT true,
  degisiklik_nedeni text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT danisman_gecmisi_pkey PRIMARY KEY (gecmis_id),
  CONSTRAINT danisman_gecmisi_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT danisman_gecmisi_danisman_id_fkey FOREIGN KEY (danisman_id) REFERENCES public.akademik_personel(personel_id)
);
CREATE TABLE public.dersler (
  ders_kodu text NOT NULL UNIQUE,
  ders_adi text NOT NULL,
  ders_turu text NOT NULL,
  akts integer NOT NULL DEFAULT 0,
  kritik_darbogaz_mi boolean DEFAULT false,
  aktif_mi boolean DEFAULT true,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  program_turu_id uuid,
  ders_id uuid NOT NULL DEFAULT gen_random_uuid() UNIQUE,
  CONSTRAINT dersler_pkey PRIMARY KEY (ders_id),
  CONSTRAINT dersler_program_turu_id_fkey FOREIGN KEY (program_turu_id) REFERENCES public.program_turleri(program_turu_id)
);
CREATE TABLE public.durum_turleri (
  durum_id uuid NOT NULL DEFAULT gen_random_uuid(),
  durum_adi text NOT NULL,
  durum_kodu text NOT NULL,
  sira_no integer NOT NULL,
  aciklama text,
  CONSTRAINT durum_turleri_pkey PRIMARY KEY (durum_id)
);
CREATE TABLE public.ogrenci (
  ogrenci_id uuid NOT NULL DEFAULT gen_random_uuid(),
  program_turu_id uuid NOT NULL,
  durum_id uuid NOT NULL,
  tc_kimlik_no text,
  ad text NOT NULL,
  soyad text NOT NULL,
  dogum_tarihi date,
  cinsiyet text,
  email text,
  telefon text,
  adres text,
  kayit_tarihi date NOT NULL,
  kabul_tarihi date,
  ogrenci_no text,
  danisman_id uuid,
  soft_delete boolean DEFAULT false,
  deleted_at timestamp with time zone,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  program_kabul_turu uuid,
  kabul_turu text CHECK (kabul_turu = ANY (ARRAY['Lisans'::text, 'Yuksek_Lisans'::text])),
  user_id uuid,
  kurumsal_email text,
  avatar_url text,
  mezuniyet_tarihi date,
  CONSTRAINT ogrenci_pkey PRIMARY KEY (ogrenci_id),
  CONSTRAINT ogrenci_danisman_id_fkey FOREIGN KEY (danisman_id) REFERENCES public.akademik_personel(personel_id),
  CONSTRAINT fk_ogrenci_program_turu FOREIGN KEY (program_turu_id) REFERENCES public.program_turleri(program_turu_id),
  CONSTRAINT fk_ogrenci_durum FOREIGN KEY (durum_id) REFERENCES public.durum_turleri(durum_id),
  CONSTRAINT fk_ogrenci_danisman FOREIGN KEY (danisman_id) REFERENCES public.akademik_personel(personel_id),
  CONSTRAINT ogrenci_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id),
  CONSTRAINT fk_ogrenci_program_kabul_turu FOREIGN KEY (program_kabul_turu) REFERENCES public.program_turleri(program_turu_id)
);
CREATE TABLE public.ogrenci_akademik_durum (
  ogrenci_id uuid NOT NULL,
  mevcut_yariyil integer NOT NULL DEFAULT 1,
  ders_tamamlandi_mi boolean DEFAULT false,
  tamamlanan_ders_sayisi integer DEFAULT 0,
  guncelleme_tarihi timestamp with time zone DEFAULT now(),
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  mevcut_asama_id uuid,
  not_ortalamasi numeric,
  tamamlanan_akts integer DEFAULT 0,
  CONSTRAINT ogrenci_akademik_durum_pkey PRIMARY KEY (ogrenci_id),
  CONSTRAINT ogrenci_akademik_durum_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT ogrenci_akademik_durum_mevcut_asama_id_fkey FOREIGN KEY (mevcut_asama_id) REFERENCES public.ogrenci_asamalari(asama_id)
);
CREATE TABLE public.ogrenci_asamalari (
  asama_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  asama_tanimi_id uuid NOT NULL,
  baslangic_tarihi date NOT NULL,
  bitis_tarihi date,
  durum text NOT NULL CHECK (durum = ANY (ARRAY['Devam_Ediyor'::text, 'Tamamlandi'::text, 'Basarisiz'::text, 'Iptal'::text])),
  tamamlanma_nedeni text,
  gecikme_yariyil integer DEFAULT 0,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT ogrenci_asamalari_pkey PRIMARY KEY (asama_id),
  CONSTRAINT ogrenci_asamalari_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT ogrenci_asamalari_asama_tanimi_id_fkey FOREIGN KEY (asama_tanimi_id) REFERENCES public.asama_tanimlari(asama_tanimi_id)
);
CREATE TABLE public.ogrenci_dersleri (
  ders_kayit_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  ders_kodu text NOT NULL,
  ders_adi text NOT NULL,
  yariyil integer NOT NULL,
  akademik_yil integer NOT NULL,
  not_kodu text,
  ts integer DEFAULT 1,
  akts integer NOT NULL DEFAULT 0,
  vize_notu numeric,
  final_notu numeric,
  butunleme_notu numeric,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  acilan_ders_id uuid,
  CONSTRAINT ogrenci_dersleri_pkey PRIMARY KEY (ders_kayit_id),
  CONSTRAINT ogrenci_dersleri_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT ogrenci_dersleri_acilan_ders_id_fkey FOREIGN KEY (acilan_ders_id) REFERENCES public.acilan_dersler(acilan_ders_id)
);
CREATE TABLE public.ogrenci_durum_gecmisi (
  gecmis_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  eski_durum_id uuid,
  yeni_durum_id uuid NOT NULL,
  degisiklik_nedeni text NOT NULL,
  otomatik_mi boolean DEFAULT false,
  degisiklik_tarihi timestamp with time zone DEFAULT now(),
  created_at timestamp with time zone DEFAULT now(),
  degistiren_admin_id uuid,
  degistiren_personel_id uuid,
  CONSTRAINT ogrenci_durum_gecmisi_pkey PRIMARY KEY (gecmis_id),
  CONSTRAINT ogrenci_durum_gecmisi_degistiren_admin_id_fkey FOREIGN KEY (degistiren_admin_id) REFERENCES public.adminler(admin_id),
  CONSTRAINT ogrenci_durum_gecmisi_degistiren_personel_id_fkey FOREIGN KEY (degistiren_personel_id) REFERENCES public.akademik_personel(personel_id),
  CONSTRAINT ogrenci_durum_gecmisi_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT ogrenci_durum_gecmisi_eski_durum_id_fkey FOREIGN KEY (eski_durum_id) REFERENCES public.durum_turleri(durum_id),
  CONSTRAINT ogrenci_durum_gecmisi_yeni_durum_id_fkey FOREIGN KEY (yeni_durum_id) REFERENCES public.durum_turleri(durum_id)
);
CREATE TABLE public.ogrenci_risk_skorlari (
  risk_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  risk_skoru integer NOT NULL CHECK (risk_skoru >= 0 AND risk_skoru <= 100),
  risk_seviyesi text NOT NULL CHECK (risk_seviyesi = ANY (ARRAY['Dusuk'::text, 'Orta'::text, 'Yuksek'::text, 'Kritik'::text])),
  risk_faktorleri jsonb,
  tahmini_mezuniyet_tarihi date,
  azami_sureye_yakinlik_yuzdesi numeric,
  hesaplama_tarihi timestamp with time zone DEFAULT now(),
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  oneri_aksiyon text,
  CONSTRAINT ogrenci_risk_skorlari_pkey PRIMARY KEY (risk_id),
  CONSTRAINT ogrenci_risk_skorlari_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id)
);
CREATE TABLE public.program_turleri (
  program_turu_id uuid NOT NULL DEFAULT gen_random_uuid(),
  program_adi text NOT NULL,
  program_kodu text NOT NULL,
  maksimum_sure_yil integer NOT NULL,
  maksimum_sure_yariyil integer NOT NULL,
  aktif_mi boolean DEFAULT true,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT program_turleri_pkey PRIMARY KEY (program_turu_id)
);
CREATE TABLE public.risk_tarihcesi (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  donem_id uuid,
  risk_skoru integer NOT NULL,
  risk_seviyesi text,
  ana_faktorler jsonb,
  hesaplama_tarihi timestamp with time zone DEFAULT now(),
  CONSTRAINT risk_tarihcesi_pkey PRIMARY KEY (id),
  CONSTRAINT risk_tarihcesi_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT risk_tarihcesi_donem_id_fkey FOREIGN KEY (donem_id) REFERENCES public.akademik_takvim(takvim_id)
);
CREATE TABLE public.sistem_ayarlari (
  ayar_kodu text NOT NULL,
  ayar_degeri text NOT NULL,
  aciklama text,
  guncelleyen_user_id uuid,
  updated_at timestamp with time zone DEFAULT now(),
  CONSTRAINT sistem_ayarlari_pkey PRIMARY KEY (ayar_kodu),
  CONSTRAINT sistem_ayarlari_guncelleyen_user_id_fkey FOREIGN KEY (guncelleyen_user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.sistem_loglari (
  log_id uuid NOT NULL DEFAULT gen_random_uuid(),
  islem_yapan_user_id uuid,
  islem_turu text NOT NULL CHECK (islem_turu = ANY (ARRAY['INSERT'::text, 'UPDATE'::text, 'DELETE'::text, 'LOGIN'::text, 'ERROR'::text])),
  tablo_adi text NOT NULL,
  kayit_id uuid,
  eski_veri jsonb,
  yeni_veri jsonb,
  ip_adresi text,
  aciklama text,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT sistem_loglari_pkey PRIMARY KEY (log_id),
  CONSTRAINT sistem_loglari_islem_yapan_user_id_fkey FOREIGN KEY (islem_yapan_user_id) REFERENCES auth.users(id)
);
CREATE TABLE public.tez_donem_kayitlari (
  kayit_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  yariyil integer NOT NULL,
  akademik_yil integer NOT NULL,
  danisman_degerlendirmesi text,
  degerlendirme_tarihi date,
  aciklama text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  tez_id uuid,
  CONSTRAINT tez_donem_kayitlari_pkey PRIMARY KEY (kayit_id),
  CONSTRAINT tez_donem_kayitlari_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT tez_donem_kayitlari_tez_id_fkey FOREIGN KEY (tez_id) REFERENCES public.tezler(tez_id)
);
CREATE TABLE public.tez_juri_uyelikleri (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  savunma_id uuid NOT NULL,
  personel_id uuid,
  dis_juri_ad_soyad text,
  kurum_bilgisi text,
  rol text CHECK (rol = ANY (ARRAY['Baskan'::text, 'Asil_Uye'::text, 'Yedek_Uye'::text])),
  katildi_mi boolean DEFAULT false,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT tez_juri_uyelikleri_pkey PRIMARY KEY (id),
  CONSTRAINT tez_juri_uyelikleri_savunma_id_fkey FOREIGN KEY (savunma_id) REFERENCES public.tez_savunmalari(savunma_id),
  CONSTRAINT tez_juri_uyelikleri_personel_id_fkey FOREIGN KEY (personel_id) REFERENCES public.akademik_personel(personel_id)
);
CREATE TABLE public.tez_onerileri (
  oneri_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  oneri_tarihi date NOT NULL,
  sonuc text NOT NULL CHECK (sonuc = ANY (ARRAY['Kabul'::text, 'Ret'::text, 'Revizyon_Gerekli'::text])),
  revizyon_tarihi date,
  nihai_sonuc text CHECK (nihai_sonuc = ANY (ARRAY['Kabul'::text, 'Ret'::text])),
  tez_konusu text,
  aciklama text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  tez_id uuid,
  dosya_url text,
  CONSTRAINT tez_onerileri_pkey PRIMARY KEY (oneri_id),
  CONSTRAINT tez_onerileri_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT tez_onerileri_tez_id_fkey FOREIGN KEY (tez_id) REFERENCES public.tezler(tez_id)
);
CREATE TABLE public.tez_savunmalari (
  savunma_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  savunma_tarihi date NOT NULL,
  sonuc text NOT NULL CHECK (sonuc = ANY (ARRAY['Kabul'::text, 'Duzeltme_Gerekli'::text, 'Red'::text])),
  duzeltme_tarihi date,
  nihai_sonuc text CHECK (nihai_sonuc = ANY (ARRAY['Kabul'::text, 'Red'::text])),
  jÃ¼ri_uyeleri ARRAY,
  aciklama text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  tez_id uuid,
  tutanak_dosya_url text,
  CONSTRAINT tez_savunmalari_pkey PRIMARY KEY (savunma_id),
  CONSTRAINT tez_savunmalari_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT tez_savunmalari_tez_id_fkey FOREIGN KEY (tez_id) REFERENCES public.tezler(tez_id)
);
CREATE TABLE public.tezler (
  tez_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  danisman_id uuid,
  baslik text,
  konu_ozeti text,
  tez_dili text DEFAULT 'Turkce'::text,
  durum text CHECK (durum = ANY (ARRAY['Oneri'::text, 'Yazim'::text, 'Juri'::text, 'Tamamlandi'::text, 'Basarisiz'::text, 'Iptal'::text])),
  baslangic_tarihi date DEFAULT CURRENT_DATE,
  bitis_tarihi date,
  tez_dosya_url text,
  intihal_raporu_url text,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  deleted_at timestamp with time zone,
  CONSTRAINT tezler_pkey PRIMARY KEY (tez_id),
  CONSTRAINT tezler_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id),
  CONSTRAINT tezler_danisman_id_fkey FOREIGN KEY (danisman_id) REFERENCES public.akademik_personel(personel_id)
);
CREATE TABLE public.tik_toplantilari (
  toplanti_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  toplanti_tarihi date NOT NULL,
  katilim_durumu text,
  rapor_verildi_mi boolean DEFAULT false,
  rapor_tarihi date,
  rapor_icerigi text,
  uyari_gonderildi_mi boolean DEFAULT false,
  uyari_tarihi date,
  created_at timestamp with time zone DEFAULT now(),
  updated_at timestamp with time zone DEFAULT now(),
  toplanti_no integer,
  sonuc text CHECK (sonuc = ANY (ARRAY['Basarili'::text, 'Basarisiz'::text, 'Yetersiz'::text])),
  degerlendirme text,
  CONSTRAINT tik_toplantilari_pkey PRIMARY KEY (toplanti_id),
  CONSTRAINT tik_toplantilari_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id)
);
CREATE TABLE public.yeterlik_sinavlari (
  sinav_id uuid NOT NULL DEFAULT gen_random_uuid(),
  ogrenci_id uuid NOT NULL,
  sinav_tarihi date NOT NULL,
  deneme_no integer NOT NULL DEFAULT 1,
  sonuc text NOT NULL CHECK (sonuc = ANY (ARRAY['Basarili'::text, 'Basarisiz'::text])),
  notu numeric,
  aciklama text,
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT yeterlik_sinavlari_pkey PRIMARY KEY (sinav_id),
  CONSTRAINT yeterlik_sinavlari_ogrenci_id_fkey FOREIGN KEY (ogrenci_id) REFERENCES public.ogrenci(ogrenci_id)
); 
```

## 5.2. ðŸ—„ï¸ VeritabanÄ± Ä°ndeksleri

```sql
CREATE INDEX idx_adminler_aktif ON public.adminler USING btree (aktif_mi);
CREATE INDEX idx_logs_created_at ON public.sistem_loglari USING btree (created_at DESC);
CREATE INDEX idx_ogrenci_user_id ON public.ogrenci USING btree (user_id);
CREATE INDEX idx_personel_user_id ON public.akademik_personel USING btree (user_id);
CREATE INDEX idx_risk_hist_ogrenci ON public.risk_tarihcesi USING btree (ogrenci_id);
```

## 5.3. ðŸ—„ï¸ VeritabanÄ±